!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).LocomotiveScroll=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach(function(e){s(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function l(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function t(e,i){return e.__proto__=i,e})(t,e)}function c(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){var e=function t(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function i(){var s,n,o,l=r(t);if(e){var a=r(this).constructor;o=Reflect.construct(l,arguments,a)}else o=l.apply(this,arguments);return s=this,(n=o)&&("object"==typeof n||"function"==typeof n)?n:c(s)}}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function t(e,i,s){var n=function t(e,i){for(;!Object.prototype.hasOwnProperty.call(e,i)&&null!==(e=r(e)););return e}(e,i);if(n){var o=Object.getOwnPropertyDescriptor(n,i);return o.get?o.get.call(s):o.value}})(t,e,i||t)}function d(t,e){return function t(e){if(Array.isArray(e))return e}(t)||function t(e,i){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var s=[],n=!0,o=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(s.push(r.value),!i||s.length!==i);n=!0);}catch(c){o=!0,l=c}finally{try{n||null==a.return||a.return()}finally{if(o)throw l}}return s}}(t,e)||f(t,e)||function t(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(t,e)}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}var v={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},m=function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),Object.assign(this,v,i),this.smartphone=v.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=v.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return i(e,[{key:"init",value:function t(){this.initEvents()}},{key:"checkScroll",value:function t(){this.dispatchScroll()}},{key:"checkResize",value:function t(){var e=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){e.resize(),e.resizeTick=!1}))}},{key:"resize",value:function t(){}},{key:"checkContext",value:function t(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var e,i=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",i!=this.context){("desktop"==i?this.smooth:this[i].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}}},{key:"initEvents",value:function t(){var e=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(t){t.addEventListener("click",e.setScrollTo,!1)})}},{key:"setScrollTo",value:function t(e){e.preventDefault(),this.scrollTo(e.currentTarget.getAttribute("data-".concat(this.name,"-href"))||e.currentTarget.getAttribute("href"),{offset:e.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function t(){}},{key:"detectElements",value:function t(e){var i=this,s=this.instance.scroll.y,n=s+this.windowHeight,o=this.instance.scroll.x,l=o+this.windowWidth;Object.entries(this.els).forEach(function(t){var r=d(t,2),a=r[0],c=r[1];if(c&&(!c.inView||e)&&("horizontal"===i.direction?l>=c.left&&o<c.right&&i.setInView(c,a):n>=c.top&&s<c.bottom&&i.setInView(c,a)),c&&c.inView){if("horizontal"===i.direction){var h=c.right-c.left;c.progress=(i.instance.scroll.x-(c.left-i.windowWidth))/(h+i.windowWidth),(l<c.left||o>c.right)&&i.setOutOfView(c,a)}else{var u=c.bottom-c.top;c.progress=(i.instance.scroll.y-(c.top-i.windowHeight))/(u+i.windowHeight),(n<c.top||s>c.bottom)&&i.setOutOfView(c,a)}}}),this.hasScrollTicking=!1}},{key:"setInView",value:function t(e,i){this.els[i].inView=!0,e.el.classList.add(e.class),this.currentElements[i]=e,e.call&&this.hasCallEventSet&&(this.dispatchCall(e,"enter"),e.repeat||(this.els[i].call=!1))}},{key:"setOutOfView",value:function t(e,i){var s=this;this.els[i].inView=!1,Object.keys(this.currentElements).forEach(function(t){t===i&&delete s.currentElements[t]}),e.call&&this.hasCallEventSet&&this.dispatchCall(e,"exit"),e.repeat&&e.el.classList.remove(e.class)}},{key:"dispatchCall",value:function t(e,i){this.callWay=i,this.callValue=e.call.split(",").map(function(t){return t.trim()}),this.callObj=e,1==this.callValue.length&&(this.callValue=this.callValue[0]);var s=new Event(this.namespace+"call");this.el.dispatchEvent(s)}},{key:"dispatchScroll",value:function t(){var e=new Event(this.namespace+"scroll");this.el.dispatchEvent(e)}},{key:"setEvents",value:function t(e,i){this.listeners[e]||(this.listeners[e]=[]);var s=this.listeners[e];s.push(i),1===s.length&&this.el.addEventListener(this.namespace+e,this.checkEvent,!1),"call"===e&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function t(e,i){if(this.listeners[e]){var s=this.listeners[e],n=s.indexOf(i);n<0||(s.splice(n,1),0===s.index&&this.el.removeEventListener(this.namespace+e,this.checkEvent,!1))}}},{key:"checkEvent",value:function t(e){var i=this,s=e.type.replace(this.namespace,""),n=this.listeners[s];n&&0!==n.length&&n.forEach(function(t){switch(s){case"scroll":return t(i.instance);case"call":return t(i.callValue,i.callWay,i.callObj);default:return t()}})}},{key:"startScroll",value:function t(){}},{key:"stopScroll",value:function t(){}},{key:"setScroll",value:function t(e,i){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function t(){var e=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(t){e.el.removeEventListener(e.namespace+t,e.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(t){t.removeEventListener("click",e.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),e}(),y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function $(t,e){return t(e={exports:{}},e.exports),e.exports}var g=$(function(t,e){t.exports={polyfill:function t(){var e=window,i=document;if(!("scrollBehavior"in i.documentElement.style)||!0===e.__forceSmoothScrollPolyfill__){var s,n=e.HTMLElement||e.Element,o={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||a,scrollIntoView:n.prototype.scrollIntoView},l=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now,r=(s=e.navigator.userAgent,RegExp("MSIE |Trident/|Edge/").test(s))?1:0;e.scroll=e.scrollTo=function(){if(void 0!==arguments[0]){if(!0===c(arguments[0])){o.scroll.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:e.scrollY||e.pageYOffset);return}f.call(e,i.body,void 0!==arguments[0].left?~~arguments[0].left:e.scrollX||e.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:e.scrollY||e.pageYOffset)}},e.scrollBy=function(){if(void 0!==arguments[0]){if(c(arguments[0])){o.scrollBy.call(e,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0);return}f.call(e,i.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset))}},n.prototype.scroll=n.prototype.scrollTo=function(){if(void 0!==arguments[0]){if(!0===c(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw SyntaxError("Value could not be converted");o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop);return}var t=arguments[0].left,e=arguments[0].top;f.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}},n.prototype.scrollBy=function(){if(void 0!==arguments[0]){if(!0===c(arguments[0])){o.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}},n.prototype.scrollIntoView=function(){if(!0===c(arguments[0])){o.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]);return}var t=function t(e){for(;e!==i.body&&!1===d(e);)e=e.parentNode||e.host;return e}(this),s=t.getBoundingClientRect(),n=this.getBoundingClientRect();t!==i.body?(f.call(this,t,t.scrollLeft+n.left-s.left,t.scrollTop+n.top-s.top),"fixed"!==e.getComputedStyle(t).position&&e.scrollBy({left:s.left,top:s.top,behavior:"smooth"})):e.scrollBy({left:n.left,top:n.top,behavior:"smooth"})}}function a(t,e){this.scrollLeft=t,this.scrollTop=e}function c(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function h(t,e){return"Y"===e?t.clientHeight+r<t.scrollHeight:"X"===e?t.clientWidth+r<t.scrollWidth:void 0}function u(t,i){var s=e.getComputedStyle(t,null)["overflow"+i];return"auto"===s||"scroll"===s}function d(t){var e=h(t,"Y")&&u(t,"Y"),i=h(t,"X")&&u(t,"X");return e||i}function f(t,s,n){var r,c,h,u,d=l();t===i.body?(r=e,c=e.scrollX||e.pageXOffset,h=e.scrollY||e.pageYOffset,u=o.scroll):(r=t,c=t.scrollLeft,h=t.scrollTop,u=a),function t(i){var s,n,o,r,a=(l()-i.startTime)/468;s=.5*(1-Math.cos(Math.PI*(r=a=a>1?1:a))),n=i.startX+(i.x-i.startX)*s,o=i.startY+(i.y-i.startY)*s,i.method.call(i.scrollable,n,o),(n!==i.x||o!==i.y)&&e.requestAnimationFrame(t.bind(e,i))}({scrollable:r,method:u,startTime:d,startX:c,startY:h,x:s,y:n})}}}});g.polyfill;var b=function(e){l(n,e);var s=h(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),(e=s.call(this,i)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",e.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=g,window.smoothscrollPolyfill.polyfill()),e}return i(n,[{key:"init",value:function t(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),u(r(n.prototype),"init",this).call(this)}},{key:"checkScroll",value:function t(){var e=this;u(r(n.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&!this.hasScrollTicking&&(requestAnimationFrame(function(){e.detectElements()}),this.hasScrollTicking=!0)}},{key:"addDirection",value:function t(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function t(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function t(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function t(){var e=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(t,i){t.getBoundingClientRect();var s,n,o,l=t.dataset[e.name+"Class"]||e.class,r="string"==typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:i,a="string"==typeof t.dataset[e.name+"Offset"]?t.dataset[e.name+"Offset"].split(","):e.offset,c=t.dataset[e.name+"Repeat"],h=t.dataset[e.name+"Call"],u=t.dataset[e.name+"Target"],d=(o=void 0!==u?document.querySelector("".concat(u)):t).getBoundingClientRect();s=d.top+e.instance.scroll.y,n=d.left+e.instance.scroll.x;var f=s+o.offsetHeight,p=n+o.offsetWidth;c="false"!=c&&(void 0!=c||e.repeat);var v=e.getRelativeOffset(a),m={el:t,targetEl:o,id:r,class:l,top:s+=v[0],bottom:f-=v[1],left:n,right:p,offset:a,progress:0,repeat:c,inView:!1,call:h};e.els[r]=m,t.classList.contains(l)&&e.setInView(e.els[r],r)})}},{key:"updateElements",value:function t(){var e=this;Object.entries(this.els).forEach(function(t){var i=d(t,2),s=i[0],n=i[1],o=n.targetEl.getBoundingClientRect().top+e.instance.scroll.y,l=o+n.targetEl.offsetHeight,r=e.getRelativeOffset(n.offset);e.els[s].top=o+r[0],e.els[s].bottom=l-r[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function t(e){var i=[0,0];if(e)for(var s=0;s<e.length;s++)"string"==typeof e[s]?e[s].includes("%")?i[s]=parseInt(e[s].replace("%","")*this.windowHeight/100):i[s]=parseInt(e[s]):i[s]=e[s];return i}},{key:"scrollTo",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=parseInt(i.offset)||0,n=!!i.callback&&i.callback;if("string"==typeof e){if("top"===e)e=this.html;else if("bottom"===e)e=this.html.offsetHeight-window.innerHeight;else if(!(e=document.querySelector(e)))return}else if("number"==typeof e)e=parseInt(e);else if(e&&e.tagName);else{console.warn("`target` parameter is not valid");return}s="number"!=typeof e?e.getBoundingClientRect().top+s+this.instance.scroll.y:e+s;var o=function t(){return parseInt(window.pageYOffset)===parseInt(s)};if(n){if(o()){n();return}var l=function t(){o()&&(window.removeEventListener("scroll",t),n())};window.addEventListener("scroll",l)}window.scrollTo({top:s,behavior:0===i.duration?"auto":"smooth"})}},{key:"update",value:function t(){this.addElements(),this.detectElements()}},{key:"destroy",value:function t(){u(r(n.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),n}(m),w=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,S=!function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var i={},s=0;s<10;s++)i["_"+String.fromCharCode(s)]=s;var n=Object.getOwnPropertyNames(i).map(function(t){return i[t]});if("0123456789"!==n.join(""))return!1;var o={};if("abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},o)).join(""))return!1;return!0}catch(l){return!1}}()?function(t,e){for(var i,s,n=function t(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(t),o=1;o<arguments.length;o++){for(var l in i=Object(arguments[o]))_.call(i,l)&&(n[l]=i[l]);if(w){s=w(i);for(var r=0;r<s.length;r++)x.call(i,s[r])&&(n[s[r]]=i[s[r]])}}return n}:Object.assign;function k(){}k.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var s=this;function n(){s.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=i.length;s<n;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],n=[];if(s&&e)for(var o=0,l=s.length;o<l;o++)s[o].fn!==e&&s[o].fn._!==e&&n.push(s[o]);return n.length?i[t]=n:delete i[t],this}};var E=k,T=$(function(t,e){(function(){var t;(t=null!==e?e:this).Lethargy=function(){function t(t,e,i,s){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=s?s:150,this.lastUpDeltas=(function(){var t,e,i;for(t=1,i=[],e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}).call(this),this.lastDownDeltas=(function(){var t,e,i;for(t=1,i=[],e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}).call(this),this.deltasTimestamp=(function(){var t,e,i;for(t=1,i=[],e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)i.push(null);return i}).call(this)}return t.prototype.check=function(t){var e;return(null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:(null!=t.detail||0===t.detail)&&(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0)?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,s,n,o,l,r;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:(!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now())||e[0]!==e[2*this.stability-1])&&(s=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),r=s.reduce(function(t,e){return t+e}),o=i.reduce(function(t,e){return t+e}),!!(Math.abs(l=r/s.length)<Math.abs((n=o/i.length)*this.tolerance)&&this.sensitivity<Math.abs(n))&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(y)}),A={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1},C=Object.prototype.toString,L=Object.prototype.hasOwnProperty,D=function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)L.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==C.call(t[i])&&e.push(i);for(var s=0;s<e.length;s++){var n=e[s];t[n]=W(t[n],t)}};function W(t,e){return function(){return t.apply(e,arguments)}}var O=T.Lethargy,B="virtualscroll",P=M,H={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32};function M(t){D(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=S({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new O),this._emitter=new E,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function Y(t,e,i){return(1-i)*t+i*e}function R(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),s=i.transform||i.webkitTransform||i.mozTransform,n=s.match(/^matrix3d\((.+)\)$/);return n?(e.x=n?parseFloat(n[1].split(", ")[12]):0,e.y=n?parseFloat(n[1].split(", ")[13]):0):(n=s.match(/^matrix\((.+)\)$/),e.x=n?parseFloat(n[1].split(", ")[4]):0,e.y=n?parseFloat(n[1].split(", ")[5]):0),e}}function z(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}M.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(B,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},M.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,A.isFirefox&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},M.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},M.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},M.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,s=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(s.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(s.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=s.pageX,this.touchStartY=s.pageY,this._notify(t)},M.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case H.LEFT:case H.UP:e.deltaY=this.options.keyStep;break;case H.RIGHT:case H.DOWN:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case H.SPACE:e.deltaY=-i;break;default:return}this._notify(t)},M.prototype._bind=function(){A.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),A.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),A.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),A.hasPointer&&A.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),A.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},M.prototype._unbind=function(){A.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),A.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),A.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),A.hasPointer&&A.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),A.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},M.prototype.on=function(t,e){this._emitter.on(B,t,e);var i=this._emitter.e;i&&i[B]&&1===i[B].length&&this._bind()},M.prototype.off=function(t,e){this._emitter.off(B,t,e);var i=this._emitter.e;(!i[B]||i[B].length<=0)&&this._unbind()},M.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},M.prototype.destroy=function(){this._emitter.off(),this._unbind()};var X="function"==typeof Float32Array;function I(t,e){return 1-3*e+3*t}function V(t,e){return 3*e-6*t}function j(t){return 3*t}function K(t,e,i){var s;return((I(e,i)*t+V(e,i))*t+3*(s=e))*t}function N(t,e,i){var s;return 3*I(e,i)*t*t+2*V(e,i)*t+3*(s=e)}function U(t){return t}var q=function t(e,i,s,n){if(!(0<=e&&e<=1&&0<=s&&s<=1))throw Error("bezier x values must be in [0, 1] range");if(e===i&&s===n)return U;for(var o=X?new Float32Array(11):Array(11),l=0;l<11;++l)o[l]=K(.1*l,e,s);return function t(l){return 0===l?0:1===l?1:K(function t(i){for(var n=0,l=1;10!==l&&o[l]<=i;++l)n+=.1;var r=n+(i-o[--l])/(o[l+1]-o[l])*.1,a=N(r,e,s);return a>=.001?function t(e,i,s,n){for(var o=0;o<4;++o){var l=N(i,s,n);if(0===l)break;var r=K(i,s,n)-e;i-=r/l}return i}(i,r,e,s):0===a?r:function t(e,i,s,n,o){var l,r,a=0;do(l=K(r=i+(s-i)/2,n,o)-e)>0?s=r:i=r;while(Math.abs(l)>1e-7&&++a<10);return r}(i,n,n+.1,e,s)}(l),i,n)}},F={LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,TAB:9,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35},G=function(e){l(n,e);var s=h(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t(this,n),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(e=s.call(this,i)).inertia&&(e.lerp=.1*e.inertia),e.isScrolling=!1,e.isDraggingScrollbar=!1,e.isTicking=!1,e.hasScrollTicking=!1,e.parallaxElements={},e.stop=!1,e.scrollbarContainer=i.scrollbarContainer,e.checkKey=e.checkKey.bind(c(e)),window.addEventListener("keydown",e.checkKey,!1),e}return i(n,[{key:"init",value:function t(){var e=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=o({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new P({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(t){!e.stop&&(e.isDraggingScrollbar||requestAnimationFrame(function(){e.updateDelta(t),e.isScrolling||e.startScrolling()}))}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),u(r(n.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function t(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var e=0,i=this.el.children,s=0;s<i.length;s++)e+=i[s].offsetWidth;this.instance.limit.x=e-this.windowWidth}}},{key:"startScrolling",value:function t(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function t(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function t(e){var i=this;if(this.stop){e.keyCode==F.TAB&&requestAnimationFrame(function(){i.html.scrollTop=0,document.body.scrollTop=0,i.html.scrollLeft=0,document.body.scrollLeft=0});return}switch(e.keyCode){case F.TAB:requestAnimationFrame(function(){i.html.scrollTop=0,document.body.scrollTop=0,i.html.scrollLeft=0,document.body.scrollLeft=0,i.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case F.UP:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case F.DOWN:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case F.PAGEUP:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case F.PAGEDOWN:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case F.HOME:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case F.END:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case F.SPACE:this.isActiveElementScrollSensitive()&&(e.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"isActiveElementScrollSensitive",value:function t(){return!(document.activeElement instanceof HTMLInputElement)&&!(document.activeElement instanceof HTMLTextAreaElement)&&!(document.activeElement instanceof HTMLButtonElement)&&!(document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return e.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var s=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),o=Date.now()-this.startScrollTs;if(!this.animatingScroll&&o>100&&(s<.5&&0!=this.instance.delta[this.directionAxis]||s<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach(function(t){var s=d(t,2),n=(s[0],s[1]);n.persistent||e.instance.scroll[e.directionAxis]>n.offset[e.directionAxis]&&e.instance.scroll[e.directionAxis]<n.limit[e.directionAxis]?("horizontal"===e.direction?e.transform(n.el,-e.instance.scroll[e.directionAxis],0):e.transform(n.el,0,-e.instance.scroll[e.directionAxis]),n.inView||(n.inView=!0,n.el.style.opacity=1,n.el.style.pointerEvents="all",n.el.setAttribute("data-".concat(e.name,"-section-inview"),""))):((n.inView||i)&&(n.inView=!1,n.el.style.opacity=0,n.el.style.pointerEvents="none",n.el.removeAttribute("data-".concat(e.name,"-section-inview"))),e.transform(n.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var l=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,l,0):this.transform(this.scrollbarThumb,0,l)}u(r(n.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function t(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function t(e){var i,s=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;i="both"===s?e.deltaX+e.deltaY:"vertical"===s?e.deltaY:"horizontal"===s?e.deltaX:e.deltaY,this.instance.delta[this.directionAxis]-=i*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function t(e){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=Y(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function t(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function t(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function t(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function t(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function t(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function t(e){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function t(e){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function t(e){var i=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var t=(e.clientX-i.scrollbarBCR.left)*100/i.scrollbarWidth*i.instance.limit.x/100,s=(e.clientY-i.scrollbarBCR.top)*100/i.scrollbarHeight*i.instance.limit.y/100;s>0&&s<i.instance.limit.y&&(i.instance.delta.y=s),t>0&&t<i.instance.limit.x&&(i.instance.delta.x=t)})}},{key:"addElements",value:function t(){var e=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach(function(t,i){var s,n,o,l=z(t),r=Object.entries(e.sections).map(function(t){var e=d(t,2);return e[0],e[1]}).find(function(t){return l.includes(t.el)}),a=t.dataset[e.name+"Class"]||e.class,c="string"==typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:"el"+i,h=t.dataset[e.name+"Repeat"],u=t.dataset[e.name+"Call"],f=t.dataset[e.name+"Position"],p=t.dataset[e.name+"Delay"],v=t.dataset[e.name+"Direction"],m="string"==typeof t.dataset[e.name+"Sticky"],y=!!t.dataset[e.name+"Speed"]&&parseFloat(t.dataset[e.name+"Speed"])/10,$="string"==typeof t.dataset[e.name+"Offset"]?t.dataset[e.name+"Offset"].split(","):e.offset,g=t.dataset[e.name+"Target"],b=(o=void 0!==g?document.querySelector("".concat(g)):t).getBoundingClientRect();null===r?(s=b.top+e.instance.scroll.y-R(o).y,n=b.left+e.instance.scroll.x-R(o).x):r.inView?(s=b.top+e.instance.scroll.y-R(o).y,n=b.left+e.instance.scroll.x-R(o).x):(s=b.top-R(r.el).y-R(o).y,n=b.left-R(r.el).x-R(o).x);var w=s+o.offsetHeight,_=n+o.offsetWidth,x={x:(_-n)/2+n,y:(w-s)/2+s};if(m){var S=t.getBoundingClientRect(),k=S.top,E=S.left,T={x:E-n,y:k-s};s+=window.innerHeight,n+=window.innerWidth,w=k+o.offsetHeight-t.offsetHeight-T[e.directionAxis],x={x:((_=E+o.offsetWidth-t.offsetWidth-T[e.directionAxis])-n)/2+n,y:(w-s)/2+s}}h="false"!=h&&(void 0!=h||e.repeat);var A=[0,0];if($){if("horizontal"===e.direction){for(var C=0;C<$.length;C++)"string"==typeof $[C]?$[C].includes("%")?A[C]=parseInt($[C].replace("%","")*e.windowWidth/100):A[C]=parseInt($[C]):A[C]=$[C];n+=A[0],_-=A[1]}else{for(var C=0;C<$.length;C++)"string"==typeof $[C]?$[C].includes("%")?A[C]=parseInt($[C].replace("%","")*e.windowHeight/100):A[C]=parseInt($[C]):A[C]=$[C];s+=A[0],w-=A[1]}}var L={el:t,id:c,class:a,section:r,top:s,middle:x,bottom:w,left:n,right:_,offset:$,progress:0,repeat:h,inView:!1,call:u,speed:y,delay:p,position:f,target:o,direction:v,sticky:m};e.els[c]=L,t.classList.contains(a)&&e.setInView(e.els[c],c),(!1!==y||m)&&(e.parallaxElements[c]=L)})}},{key:"addSections",value:function t(){var e=this;this.sections={};var i=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===i.length&&(i=[this.el]),i.forEach(function(t,i){var s="string"==typeof t.dataset[e.name+"Id"]?t.dataset[e.name+"Id"]:"section"+i,n=t.getBoundingClientRect(),o={x:n.left-1.5*window.innerWidth-R(t).x,y:n.top-1.5*window.innerHeight-R(t).y},l={x:o.x+n.width+2*window.innerWidth,y:o.y+n.height+2*window.innerHeight},r="string"==typeof t.dataset[e.name+"Persistent"];t.setAttribute("data-scroll-section-id",s),e.sections[s]={el:t,offset:o,limit:l,inView:!1,persistent:r,id:s}})}},{key:"transform",value:function t(e,i,s,n){var t;if(n){var o=R(e),l=Y(o.x,i,n),r=Y(o.y,s,n);t="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(l,",").concat(r,",0,1)")}else t="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(i,",").concat(s,",0,1)");e.style.webkitTransform=t,e.style.msTransform=t,e.style.transform=t}},{key:"transformElements",value:function t(e){var i=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.instance.scroll.x+this.windowWidth,o=this.instance.scroll.y+this.windowHeight,l={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(t){var r=d(t,2),a=(r[0],r[1]),c=!1;if(e&&(c=0),a.inView||s)switch(a.position){case"top":case"left":c=-(i.instance.scroll[i.directionAxis]*a.speed);break;case"elementTop":c=-((o-a.top)*a.speed);break;case"bottom":c=(i.instance.limit[i.directionAxis]-o+i.windowHeight)*a.speed;break;case"elementLeft":c=-((n-a.left)*a.speed);break;case"right":c=(i.instance.limit[i.directionAxis]-n+i.windowHeight)*a.speed;break;default:c=-((l[i.directionAxis]-a.middle[i.directionAxis])*a.speed)}a.sticky&&(c=a.inView?"horizontal"===i.direction?i.instance.scroll.x-a.left+window.innerWidth:i.instance.scroll.y-a.top+window.innerHeight:"horizontal"===i.direction?i.instance.scroll.x<a.left-window.innerWidth&&i.instance.scroll.x<a.left-window.innerWidth/2?0:i.instance.scroll.x>a.right&&i.instance.scroll.x>a.right+100&&a.right-a.left+window.innerWidth:i.instance.scroll.y<a.top-window.innerHeight&&i.instance.scroll.y<a.top-window.innerHeight/2?0:i.instance.scroll.y>a.bottom&&i.instance.scroll.y>a.bottom+100&&a.bottom-a.top+window.innerHeight),!1!==c&&("horizontal"===a.direction||"horizontal"===i.direction&&"vertical"!==a.direction?i.transform(a.el,c,0,!e&&a.delay):i.transform(a.el,0,c,!e&&a.delay))})}},{key:"scrollTo",value:function t(e){var i,s=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=parseInt(n.offset)||0,l=isNaN(parseInt(n.duration))?1e3:parseInt(n.duration),r=n.easing||[.25,0,.35,1],a=!!n.disableLerp,c=!!n.callback&&n.callback;if(r=q.apply(void 0,function t(e){if(Array.isArray(e))return p(e)}(i=r)||function t(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(i)||f(i)||function t(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),"string"==typeof e){if("top"===e)e=0;else if("bottom"===e)e=this.instance.limit.y;else if("left"===e)e=0;else if("right"===e)e=this.instance.limit.x;else if(!(e=document.querySelector(e)))return}else if("number"==typeof e)e=parseInt(e);else if(e&&e.tagName);else{console.warn("`target` parameter is not valid");return}if("number"!=typeof e){if(!z(e).includes(this.el))return;var h=e.getBoundingClientRect(),u=h.top,v=h.left,m=z(e).find(function(t){return Object.entries(s.sections).map(function(t){var e=d(t,2);return e[0],e[1]}).find(function(e){return e.el==t})}),y=0;y=m?R(m)[this.directionAxis]:-this.instance.scroll[this.directionAxis],o="horizontal"===this.direction?v+o-y:u+o-y}else o=e+o;var $=parseFloat(this.instance.delta[this.directionAxis]),g=Math.max(0,Math.min(o,this.instance.limit[this.directionAxis]))-$,b=function t(e){a?"horizontal"===s.direction?s.setScroll($+g*e,s.instance.delta.y):s.setScroll(s.instance.delta.x,$+g*e):s.instance.delta[s.directionAxis]=$+g*e};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var w=Date.now();!function t(){var e=(Date.now()-w)/l;e>1?(b(1),s.animatingScroll=!1,0==l&&s.update(),c&&c()):(s.scrollToRaf=requestAnimationFrame(t),b(r(e)))}()}},{key:"update",value:function t(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function t(){this.stop=!1}},{key:"stopScroll",value:function t(){this.stop=!0}},{key:"setScroll",value:function t(e,i){this.instance=o(o({},this.instance),{},{scroll:{x:e,y:i},delta:{x:e,y:i},speed:0})}},{key:"destroy",value:function t(){u(r(n.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),n}(m);return function(){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.options=i,Object.assign(this,v,i),this.smartphone=v.smartphone,i.smartphone&&Object.assign(this.smartphone,i.smartphone),this.tablet=v.tablet,i.tablet&&Object.assign(this.tablet,i.tablet),this.smooth||"horizontal"!=this.direction||console.warn("\uD83D\uDEA8 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("\uD83D\uDEA8 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("\uD83D\uDEA8 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return i(e,[{key:"init",value:function t(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new G(this.options):this.scroll=new b(this.options),this.scroll.init(),window.location.hash){var e=window.location.hash.slice(1,window.location.hash.length),i=document.getElementById(e);i&&this.scroll.scrollTo(i)}}},{key:"update",value:function t(){this.scroll.update()}},{key:"start",value:function t(){this.scroll.startScroll()}},{key:"stop",value:function t(){this.scroll.stopScroll()}},{key:"scrollTo",value:function t(e,i){this.scroll.scrollTo(e,i)}},{key:"setScroll",value:function t(e,i){this.scroll.setScroll(e,i)}},{key:"on",value:function t(e,i){this.scroll.setEvents(e,i)}},{key:"off",value:function t(e,i){this.scroll.unsetEvents(e,i)}},{key:"destroy",value:function t(){this.scroll.destroy()}}]),e}()});